import { WebResource } from "@azure/ms-rest-js";
import { TokenClientCredentials, TokenResponse } from "./tokenClientCredentials";
import { LinkedSubscription } from "../subscriptionManagement/subscriptionUtils";
/**
 * Describes the access token retrieved from Azure CLI.
 */
export interface CliAccessToken {
    /**
     * The access token for the resource
     */
    accessToken: string;
    /**
     * Time when the access token expires.
     */
    expiresOn: Date;
    /**
     * SubscriptionId associated with the token.
     */
    subscription: string;
    /**
     * tenantId associated with the token.
     */
    tenant: string;
    /**
     * The token type. example: "Bearer".
     */
    tokenType: string;
}
/**
 * Describes the options that can be provided while listing all the subscriptions/accounts via
 * Azure CLI.
 */
export interface ListAllSubscriptionOptions {
    /**
     * List all subscriptions, rather just 'Enabled' ones.
     */
    all?: boolean;
    /**
     * Retrieve up-to-date subscriptions from server.
     */
    refresh?: boolean;
}
/**
 * Describes the credentials by retrieving token via Azure CLI.
 */
export declare class AzureCliCredentials implements TokenClientCredentials {
    /**
     * Provides information about the default/current subscription for Azure CLI.
     */
    subscriptionInfo: LinkedSubscription;
    /**
     * Provides information about the access token for the corresponding subscription for Azure CLI.
     */
    tokenInfo: CliAccessToken;
    /**
     * The number of seconds within which it is good to renew the token.
     *  A constant set to 270 seconds (4.5 minutes).
     */
    private readonly _tokenRenewalMarginInSeconds;
    constructor(subscriptinInfo: LinkedSubscription, tokenInfo: CliAccessToken);
    /**
     * Tries to get the new token from Azure CLI, if the token has expired or the subscription has
     * changed else uses the cached accessToken.
     * @return The tokenResponse (tokenType and accessToken are the two important properties).
     */
    getToken(): Promise<TokenResponse>;
    /**
     * Signs a request with the Authentication header.
     * @param The request to be signed.
     */
    signRequest(webResource: WebResource): Promise<WebResource>;
    private _hasTokenExpired;
    private _hasSubscriptionChanged;
    /**
     * Gets the access token for the default or specified subscription.
     * @param subscriptionIdOrName The subscription id or name for which the access token is required.
     */
    static getAccessToken(subscriptionIdOrName?: string): Promise<CliAccessToken>;
    /**
     * Gets the default subscription from Azure CLI.
     */
    static getDefaultSubscription(): Promise<LinkedSubscription>;
    /**
     * Sets the specified subscription as the default subscription for Azure CLI.
     * @param subscriptionIdOrName The name or id of the subsciption that needs to be set as the
     * default subscription.
     */
    static setDefaultSubscription(subscriptionIdOrName: string): Promise<void>;
    /**
     * Returns a list of all the subscriptions from Azure CLI.
     * @param options Optional parameters that can be provided while listing all the subcriptions.
     */
    static listAllSubscriptions(options?: ListAllSubscriptionOptions): Promise<LinkedSubscription[]>;
    /**
     * Provides credentials that can be used by the JS SDK to interact with Azure via azure cli.
     * **Pre-requisite**
     * - **install azure-cli** . For more information see
     * {@link https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest Install Azure CLI}
     * - **login via `az login`**
     * - If you want to work against a specific subscription then please set that subscription as
     * the default subscription by executing `az account set -s <subscriptionNameOrId>`
     */
    static create(): Promise<AzureCliCredentials>;
}
//# sourceMappingURL=azureCliCredentials.d.ts.map